# -*- coding: utf-8 -*-

# 스타트링크 타워

import sys
input = sys.stdin.readline
n = int(input())
g = [list(map(str, list(input().strip()))) for _ in range(5)]
numOfNum = [0 for _ in range(n)]
sumOfNum = [0 for _ in range(n)]
totalnum = 1
ans = 0

numHt = { 0 : [[1, 1], [2, 1], [3, 1]],
          1 : [[0, 0], [0, 1], [1, 0], [1, 1], [2, 0], [2, 1], [3, 0], [3, 1], [4, 0], [4, 1]],
          2 : [[1, 0], [1, 1], [3, 1], [3, 2]],
          3 : [[1, 0], [1, 1], [3, 0], [3, 1]],
          4 : [[0, 1], [1, 1], [3, 0], [3, 1], [4, 0], [4, 1]],
          5 : [[1, 1], [1, 2], [3, 0], [3, 1]],
          6 : [[1, 1], [1, 2], [3, 1]],
          7 : [[1, 0], [1, 1], [2, 0], [2, 1], [3, 0], [3, 1], [4, 0], [4, 1]],
          8 : [[1, 1], [3, 1]],
          9 : [[1, 1], [3, 1], [3, 0]]
}


ni, nj = 0, 0
for idx in range(n):
    for num in range(10):
        numValueArr = numHt[num]
        cnt = 0
        for i, j in numValueArr:
            i, j = ni + i, nj + j
            if g[i][j] == '.':
                cnt += 1
            if cnt == len(numValueArr):
                sumOfNum[idx] += num * (n - idx)
                numOfNum[idx] += 1
    ni, nj = ni + 4, nj + 4

for i in range(n):
    numSum = 1
    for j in range(n):
        if i != j:
            numSum *= numOfNum[j]
        totalnum *= numOfNum[j]
    ans += sumOfNum[i] * numSum
print(ans / totalnum)


# numHt = { 0 : [[0, 0], [0, 1], [0, 2], [1, 0], [1, 2], [2, 0], [2, 2], [3, 0], [3, 2], [4, 0], [4, 1], [4, 2],
#           1 : [[0, 2], [1, 2], [2, 2], [3, 2], [4, 2]],
#           2 : [[0, 0], [0, 1], [0, 2], [1, 2], [2, 0], [2, 1], [2, 2], [3, 0], [4, 0], [4, 1], [4, 2]],
#           3 : [[0, 0], [0, 1], [0, 2], [1, 2], [2, 0], [2, 1], [2, 2], [3, 2], [4, 0], [4, 1], [4, 2]],
#           4 : [[0, 0], [0, 2], [1, 0], [1, 2], [2, 0], [2, 1], [2, 2], [3, 2], [4, 2]],
#           5 : [[0, 0], [0, 1], [0, 2], [1, 0], [2, 0], [2, 1], [2, 2], [3, 2], [4, 0], [4, 1], [4, 2]],
#           6 : [[0, 0], [0, 1], [0, 2], [1, 0], [2, 0], [2, 1], [2, 2], [3, 0], [3, 2], [4, 0], [4, 1], [4, 2]],
#           7 : [[0, 0], [0, 1], [0, 2], [1, 2], [2, 2], [3, 2], [4, 2]],
#           8 : [[0, 0], [0, 1], [0, 2], [1, 0], [1, 2], [2, 0], [2, 1], [2, 2], [3, 0], [3, 2], [4, 0], [4, 1], [4, 2]],
#           9 : [[0, 0], [0, 1], [0, 2], [1, 0], [1, 2], [2, 0], [2, 1], [2, 2], [3, 2], [4, 0], [4, 1], [4, 2]],